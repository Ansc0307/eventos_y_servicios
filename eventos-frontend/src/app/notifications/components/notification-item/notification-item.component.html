<div
  class="flex items-center gap-4 px-6 py-2 border-b last:border-b-0
         transition-colors duration-200 cursor-pointer group
         dark:border-slate-700 overflow-visible"
  [class]="getBackgroundClass()"
>

  <!-- ICONO -->
  <div class="flex-shrink-0">
    <div
      class="flex items-center justify-center rounded-lg size-10"
      [class]="tipoConfig.bgColor"
    >
      <span
        class="material-symbols-outlined text-xl"
        [class]="tipoConfig.color"
      >
        {{ tipoConfig.icon }}
      </span>
    </div>
  </div>

  <!-- CONTENIDO -->
  <div class="flex-1 min-w-0 flex items-center gap-4">

    <!-- TEXTO -->
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2">
        <h3
          class="text-sm font-semibold truncate
                 text-slate-900 dark:text-slate-100"
        >
          {{ notificacion.asunto }}
        </h3>

        <span
          *ngIf="!notificacion.leido"
          class="size-2 rounded-full bg-primary flex-shrink-0"
        ></span>
      </div>

      <p
        class="text-sm truncate
               text-slate-600 dark:text-slate-400"
      >
        {{ notificacion.mensaje }}
      </p>

      <span class="text-xs text-slate-500 dark:text-slate-500">
        {{ getTiempoTranscurrido() }}
      </span>
    </div>

    <!-- ESTADO -->
    <div class="flex flex-col items-end gap-1 shrink-0 text-right">
      <span
        class="inline-flex items-center px-2 py-0.5 rounded-full
               text-xs font-medium"
        [class]="prioridadConfig.badgeColor"
      >
        {{ notificacion.prioridad.nombre }}
      </span>

      <span class="text-xs text-slate-500 dark:text-slate-400">
        {{ notificacion.tipoNotificacion.nombre }}
      </span>
    </div>

    <!-- ACCIONES -->
    <div
      class="group flex items-center gap-4 px-6 py-2 border-b last:border-b-0
            transition-colors duration-200 cursor-pointer
            dark:border-slate-700 overflow-visible"
      [class]="getBackgroundClass()"
    >
      <button
        *ngIf="!notificacion.leido"
        (click)="marcarComoLeida.emit(notificacion.id)"
        class="p-1.5 rounded-md
               hover:bg-slate-100 dark:hover:bg-slate-700
               text-slate-500 hover:text-primary"
        title="Marcar como leÃ­da"
      >
        <span class="material-symbols-outlined text-base">
          check_circle
        </span>
      </button>

      <button
        (click)="eliminar.emit(notificacion.id)"
        class="p-1.5 rounded-md
               hover:bg-red-50 dark:hover:bg-red-900/20
               text-slate-500 hover:text-red-600"
        title="Eliminar"
      >
        <span class="material-symbols-outlined text-base">
          delete
        </span>
      </button>
    </div>

  </div>
</div>
