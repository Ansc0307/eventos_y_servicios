<div class="flex gap-4 px-6 py-4 transition-all duration-200 cursor-pointer group"
     [class]="getBackgroundClass() + ' border-b border-slate-200 dark:border-slate-700 last:border-b-0'">
  
  <!-- Icono del tipo -->
  <div class="flex-shrink-0">
    <div class="flex items-center justify-center rounded-xl size-12" 
         [class]="tipoConfig.bgColor">
      <span class="material-symbols-outlined text-2xl" 
            [class]="tipoConfig.color">
        {{ tipoConfig.icon }}
      </span>
    </div>
  </div>

  <!-- Contenido principal -->
  <div class="flex-1 min-w-0">
    <div class="flex items-start justify-between gap-2">
      <div class="flex-1 min-w-0">
        <!-- Asunto con indicador de no leído -->
        <div class="flex items-center gap-2 mb-1">
          <h3 class="text-base font-semibold text-slate-900 dark:text-slate-100 truncate">
            {{ notificacion.asunto }}
          </h3>
          <!-- Indicador de no leído -->
          <div *ngIf="!notificacion.leido" 
               class="size-2 rounded-full bg-primary flex-shrink-0"></div>
        </div>
        
        <!-- Mensaje -->
        <p class="text-sm text-slate-600 dark:text-slate-400 mb-2 line-clamp-2">
          {{ notificacion.mensaje }}
        </p>
        
        <!-- Metadatos -->
        <div class="flex items-center gap-3 flex-wrap">
          <!-- Prioridad -->
          <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"
                [class]="prioridadConfig.badgeColor">
            {{ notificacion.prioridad.nombre }}
          </span>
          
          <!-- Tipo -->
          <span class="text-xs text-slate-500 dark:text-slate-500">
            {{ notificacion.tipoNotificacion.nombre }}
          </span>
          
          <!-- Fecha -->
          <span class="text-xs text-slate-500 dark:text-slate-500">
            {{ getTiempoTranscurrido() }}
          </span>
        </div>
      </div>
      
      <!-- Acciones (hover) -->
      <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center gap-1">
        <!-- Marcar como leído -->
        <button *ngIf="!notificacion.leido"
                (click)="marcarComoLeida.emit(notificacion.id)"
                class="p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400 hover:text-primary"
                title="Marcar como leída">
          <span class="material-symbols-outlined text-lg">check_circle</span>
        </button>
        
        <!-- Eliminar -->
        <button (click)="eliminar.emit(notificacion.id)"
                class="p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 text-slate-600 dark:text-slate-400 hover:text-red-600"
                title="Eliminar notificación">
          <span class="material-symbols-outlined text-lg">delete</span>
        </button>
      </div>
    </div>
  </div>
</div>