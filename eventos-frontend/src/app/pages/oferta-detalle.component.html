<div class="px-4 sm:px-10 lg:px-20 py-8" *ngIf="oferta">

  <!-- Breadcrumb -->
  <div class="flex flex-wrap gap-2 mb-6">
    <a class="text-[#4c8d9a] text-sm font-medium" routerLink="/home">Home</a>
    <span>/</span>
    <a class="text-[#4c8d9a] text-sm font-medium" routerLink="/mis-ofertas">Mis Ofertas</a>
    <span>/</span>
    <span class="font-medium text-[#0d191b]">{{ oferta.titulo }}</span>
  </div>

  <!-- Título y botón editar -->
  <div class="flex flex-wrap justify-between mb-6">
    <div>
      <h1 class="text-4xl font-black text-[#0d191b]">{{ oferta.titulo }}</h1>
      <p class="text-gray-500">Categoría: {{ oferta.categoria?.detalle }}</p>
    </div>

    <button class="flex gap-2 items-center bg-primary text-black px-4 h-10 rounded-lg">
      <span class="material-symbols-outlined">edit</span>
      Editar Oferta
    </button>
  </div>

  <!-- GALERÍA DE IMÁGENES -->
  <div class="grid grid-cols-4 grid-rows-2 gap-4 h-[500px]">
    <!-- Imagen principal -->
    <div class="col-span-4 md:col-span-2 row-span-2 rounded-xl overflow-hidden">
      <div class="w-full h-full bg-center bg-cover"
        [style.background-image]="'url(' + mainImage + ')'">
      </div>
    </div>

    <!-- Resto de imágenes -->
    <ng-container *ngFor="let img of oferta.medias.slice(1, 5)">
      <div class="hidden md:block rounded-xl overflow-hidden">
        <div class="w-full h-full bg-center bg-no-repeat bg-cover"
          [style.background-image]="'url(' + img.url + ')'">
        </div>
      </div>
    </ng-container>
  </div>

  <!-- DESCRIPCIÓN -->
  <div class="mt-10 border-b pb-8">
    <h3 class="text-2xl font-bold text-[#0d191b] mb-4">Acerca de este espacio</h3>
    <p class="text-gray-600 leading-relaxed">
      {{ oferta.descripcion }}
    </p>
  </div>

  <!-- PRECIO Y DESCUENTO -->
  <div class="mt-10 p-6 bg-white rounded-xl shadow-md border border-gray-200 max-w-md">
    <div class="flex items-baseline gap-2">
      <p class="text-3xl font-extrabold text-[#0d191b]">
        {{ oferta.precioBase | currency:'USD' }}
      </p>
      <p class="text-gray-500">/ día</p>
    </div>

    <div *ngIf="oferta.descuentos?.length > 0" class="mt-4 bg-green-100 p-3 rounded-lg">
      <p class="text-green-700 font-bold">
        Descuento: {{ oferta.descuentos[0].porcentaje }}%
      </p>
      <p class="text-green-800">
        Precio final:
        {{ oferta.precioBase - (oferta.precioBase * oferta.descuentos[0].porcentaje / 100) | currency:'USD' }}
      </p>
    </div>
  </div>

</div>
